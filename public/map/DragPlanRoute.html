<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="initial-scale=1.0, user-scalable=no, width=device-width"
    />
    <title>可拖拽的路线规划</title>
    <style>
      html,
      body,
      #container {
        width: 100%;
        height: 100%;
      }
    </style>
    <script type="text/javascript">
      window._AMapSecurityConfig = {
        securityJsCode: "e9a4377597f4a58e444909fe83dd69c9",
      };
    </script>
    <script
      type="text/javascript"
      src="https://webapi.amap.com/maps?v=1.4.15&key=7411dd57464e4b12ee621b6f5442e3c9"
    ></script>
    <script
      type="text/javascript"
      src="https://cache.amap.com/lbs/static/addToolbar.js"
    ></script>
  </head>
  <body>
    <div id="container"></div>
    <script type="text/javascript">
      var map, route, marker;
      //基本地图加载
      map = new AMap.Map("container", {
        resizeEnable: true,
      });
      //绘制初始路径
      var path = [];
      path.push([116.303843, 39.983412]); // 起点
      // path.push([116.321354, 39.896436]); // 途经点（最多可设 16 个）
      path.push([116.407012, 39.992093]); // 终点
      map.plugin("AMap.DragRoute", function () {
        route = new AMap.DragRoute(map, path, AMap.DrivingPolicy.LEAST_FEE); //构造拖拽导航类
        route.search(); //查询导航路径并开启拖拽导航
      });
    </script>
  </body>
</html>
